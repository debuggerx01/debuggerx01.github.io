<!DOCTYPE html><html lang="zh-CN" data-theme="dark"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>建议Linux用户尝试下kvm虚拟机 | DebuggerX's Blog</title><meta name="author" content="DebuggerX"><meta name="copyright" content="DebuggerX"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#0d0d0d"><meta name="description" content="作为 Linux 用户，不管是 IT 开发，还是普通的爱好者，出于种种原因总是离不开虚拟机软件。由于某些原因   某些原因 (其实就是高中那会痴迷仙剑，先是因为想在网吧电脑上玩仙剑三外传，但是当时仙三外安装过程中必须重启电脑，网吧电脑重启就自动还原了，于是只能研究哪个虚拟机可以比较好的支持3D游戏"><link rel="shortcut icon" href="/images/favicon.png"><link rel="canonical" href="http://blog.debuggerx.com/2020/11/29/suggest-Linux-users-to-try-kvm-virtual-machine/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//hm.baidu.com"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.staticfile.org/font-awesome/6.1.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?45acc9824a216a8f1792b419eb91f090";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.1/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '建议Linux用户尝试下kvm虚拟机',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-11-20 16:57:49'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><meta name="referrer" content="no-referrer-when-downgrade" /><link rel="stylesheet" href="/md_editor/css/editormd.min.css"><link rel="stylesheet" href="/custom/custom.css"><meta name="generator" content="Hexo 6.0.0">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/images/avatar.webp" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">38</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">31</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">4</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 文档</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener" href="https://hexo.io/zh-cn/docs/"><i class="fa-fw fas fa-book"></i><span> Hexo</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://butterfly.js.org/categories/Docs%E6%96%87%E6%AA%94/"><i class="fa-fw fas fa-paint-brush"></i><span> Butterfly</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-smile-o"></i><span> 娱乐</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/videos/"><i class="fa-fw fas fa-play-circle"></i><span> 视频</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="//debuggerx.com/emulator_js"><i class="fa-fw fas fa-gamepad"></i><span> 游戏</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-tools"></i><span> 工具</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/md_editor/"><i class="fa-fw fas fa-pen"></i><span> MDEditor</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="http://www.debuggerx.com/dgm_web"><i class="fa-fw fas fa-hand-peace"></i><span> DDE手势管理器</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于我</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/2020/11/29/suggest-Linux-users-to-try-kvm-virtual-machine/cover.webp')"><nav id="nav"><span id="blog-info"><a href="/" title="DebuggerX's Blog"><span class="site-name">DebuggerX's Blog</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 文档</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener" href="https://hexo.io/zh-cn/docs/"><i class="fa-fw fas fa-book"></i><span> Hexo</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://butterfly.js.org/categories/Docs%E6%96%87%E6%AA%94/"><i class="fa-fw fas fa-paint-brush"></i><span> Butterfly</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-smile-o"></i><span> 娱乐</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/videos/"><i class="fa-fw fas fa-play-circle"></i><span> 视频</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="//debuggerx.com/emulator_js"><i class="fa-fw fas fa-gamepad"></i><span> 游戏</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-tools"></i><span> 工具</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/md_editor/"><i class="fa-fw fas fa-pen"></i><span> MDEditor</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="http://www.debuggerx.com/dgm_web"><i class="fa-fw fas fa-hand-peace"></i><span> DDE手势管理器</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于我</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">建议Linux用户尝试下kvm虚拟机</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2020-11-28T20:27:33.000Z" title="发表于 2020-11-29 04:27:33">2020-11-29</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-11-20T08:57:49.021Z" title="更新于 2024-11-20 16:57:49">2024-11-20</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%A5%87%E6%8A%80%E6%B7%AB%E5%B7%A7/">奇技淫巧</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">3.6k</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="建议Linux用户尝试下kvm虚拟机"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><blockquote>
<p>作为 Linux 用户，不管是 IT 开发，还是普通的爱好者，出于种种原因总是离不开虚拟机软件。由于<span class="hide-inline"><button type="button" class="hide-button" style="background-color: #fff;color: #FF7242">某些原因
  </button><span class="hide-content">某些原因 (其实就是高中那会痴迷仙剑，先是因为想在网吧电脑上玩仙剑三外传，但是当时仙三外安装过程中必须重启电脑，网吧电脑重启就自动还原了，于是只能研究哪个虚拟机可以比较好的支持3D游戏；后来又逐渐接触到了编程，想要通过给我当时使用的电子词典编译一个 DoxBox 玩原版的仙剑1……这样回头看来，今天会走上 IT 这条路就是因为仙剑也说不定哎<span class="github-emoji"><span>😏</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f60f.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>)</span></span>我很早就接触过各种虚拟机软件，到目前为止或多或少几乎使用过所有常见的虚拟机软件或平台，包括大家最熟悉的 <a target="_blank" rel="noopener" href="https://www.vmware.com/">VMWare</a>、<a target="_blank" rel="noopener" href="https://www.virtualbox.org/">VBox</a>，windows 上曾经的 <a target="_blank" rel="noopener" href="https://www.microsoft.com/zh-CN/download/details.aspx?id=3702">Virtual PC</a> 和如今系统自带的 <a target="_blank" rel="noopener" href="https://docs.microsoft.com/zh-cn/virtualization/hyper-v-on-windows/quick-start/enable-hyper-v">Hyper-V</a>，MacOS 上的 <a target="_blank" rel="noopener" href="https://www.parallels.cn/">Parallels Desktop</a>，以及虚拟化平台 <a target="_blank" rel="noopener" href="https://www.vmware.com/cn/products/vsphere-hypervisor.html">ESXi</a> 和 <a target="_blank" rel="noopener" href="https://www.proxmox.com/">Proxmox VE</a> 等……这些软件在各自平台和特定使用场景下各有其优势，但是现在，我个人使用的 Linux 上唯一在用的虚拟机软件，就是今天的主角—— <a target="_blank" rel="noopener" href="http://www.linux-kvm.org/page/Main_Page">KVM</a></p>
</blockquote>
<h1 id="KVM的优点"><a href="#KVM的优点" class="headerlink" title="KVM的优点"></a>KVM的优点</h1><ol>
<li>安装方便。<br> 从 KVM 的全称：Kernel-based Virtual Machine 就可以看出，KVM 实际是 linux 内核提供的虚拟化架构，可将内核直接充当 hypervisor 来使用，只要不是过于老旧的电脑，现在主流的 Linux 发行版都是可以几乎0配置地使用 KVM。相比之下，VMWare 和 VBox 并不是每一个发行版的软件仓库中都会包含的，这时候需要去对应官网下载安装包手动安装；即使是仓库中有可以直接通过包管理安装，它们想要正常使用还需要编译内核模块，每次系统内核升级后还需要重新编译，某些情况下还有可能编译失败无法使用，而 KVM 的安装只需要一步： <figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">debian系</span></span><br><span class="line">sudo apt install qemu-kvm</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">Redhat系</span></span><br><span class="line">sudo yum install qemu-kvm</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">可选，仅当不加 <span class="built_in">sudo</span> 执行 kvm 命令提示权限错误时使用</span></span><br><span class="line">sudo adduser $USER kvm</span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p>更新：在现在最新的 Debian 仓库中，qemu-kvm只是个虚包：<br>   <img src="/2020/11/29/suggest-Linux-users-to-try-kvm-virtual-machine/qemu_kvm.webp" alt="qemu_kvm.webp"><br> 所以直接装 qemu-system-x86 就好</p>
</blockquote>
</li>
<li>本身资源占用极低<br> 不管是哪种虚拟化方案，虚拟机软件本身也是要消耗一部分系统资源的。参看 <a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/48664113">QEMU和KVM的关系</a>，KVM 使用 qemu 作为操作管理前端，占用的资源极低，不运行虚拟系统时 qemu 只占用20多mb的内存，尤其在配置比较低的电脑上可以省出更多的资源让宿主机或者虚拟机使用。<blockquote>
<p>KVM 也有一些图形化管理工具，比如经典的 <a target="_blank" rel="noopener" href="https://virt-manager.org/">virt-manager</a>，还有新一点的 <a target="_blank" rel="noopener" href="https://wiki.gnome.org/Apps/Boxes">GNOME Boxes</a>，但我觉得其实并不是很有必要，因为常规使用 KVM 的命令行操作足够简单，就我而言图形化操作并没有更方便，反而浪费了资源。</p>
</blockquote>
</li>
<li>方便且强大的命令行操作<br> 这其实是 qemu 的优点，强大的命令行选项可以非常灵活地使用 KVM 虚拟机，而且可以方便地写成脚本，从而得到比图形化虚拟机高得多的效率。虽然 Vmware 和 VBox 也是可以通过命令行进行控制的，例如 Vmware 可以用 <code>vmware -X "[path_to_virtual_pc]/[virtual_pc].vmx"</code> 的方式启动一个创建好的虚拟机，VBox 更是可以通过 <code>VBoxManage</code> 命令实现更多的操作，但都还远远比不上 qemu。</li>
</ol>
<h1 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h1><p>常用的命令其实只有两个：</p>
<ol>
<li><p>虚拟机磁盘镜像操作命令 <code>qemu-img</code><br> 使用虚拟机软件创建虚拟机安装操作系统，最重要的步骤就是对虚拟磁盘的操作，其他像 cpu 、内存、网络等设置都可以随时调整修改，而虚拟磁盘一旦创建，系统和几乎所有数据都存储在其中，虚拟机的迁移主要也就是磁盘镜像的迁移。通过 <a target="_blank" rel="noopener" href="https://www.qemu.org/docs/master/tools/qemu-img.html">qemu-img</a> 可以实现创建、检查、转换、调整虚拟磁盘镜像文件，多数情况下只需要用到其创建( create )的功能，典型用法如下：</p>
 <figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">qemu-img create -f raw disk 8G</span><br></pre></td></tr></tbody></table></figure>
<p> 上面命令将在当前目录下创建一个容量上限为8G名为 <code>disk</code> 的虚拟磁盘镜像文件。<code>-f</code> 参数的含义是 <code>format</code>，用于指定虚拟磁盘镜像的格式，常用的格式一般是 <code>qcow2</code> 和 <code>raw</code>，两者的区别主要在于空间占用和使用时的 io 效率(<a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_37136725/article/details/78109708">RAW 与 QCOW2 的区别</a>)；记得命令的顺序是先指定创建镜像的名称(<code>disk</code>)，然后再指定其最大容量(<code>8G</code>)<br> <img src="/2020/11/29/suggest-Linux-users-to-try-kvm-virtual-machine/create_img.webp" alt="create image"></p>
</li>
<li><p>启动KVM<br> 下面仅列出使用 <code>kvm</code> 命令启动虚拟机时常用的参数：</p>
 <figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">kvm</span><br><span class="line"> -m 2G 							# 必选，含义：memory，用于指定虚拟机的占用的最大内存</span><br><span class="line"> -cpu host						# 可选，指定虚拟机模拟的 cpu 型号，可选型号列表可以用'kvm -cpu help'命令查看；我习惯用host，代表使用物理机的cpu型号</span><br><span class="line"> -smp 3							# 可选，设置虚拟cpu的核心数</span><br><span class="line"> -hda disk						# 必选，用于指定虚拟机使用的虚拟磁盘镜像文件；当有多个磁盘需要使用时可继续指定 -hdb disk2 ……</span><br><span class="line"> -cdrom ～/Download/debian.iso	# 指定虚拟机cd光驱使用的镜像，一般只在安装虚拟机系统时需要</span><br><span class="line"> -nic user,hostfwd=tcp::8022-:22		# 可选，用于实现端口映射，这里的例子是把虚拟机的22端口映射到了宿主机的8022端口，下面有详细的应用</span><br><span class="line"> -nographic						# 可选，关闭虚拟机的图形输出，在已经配置好远程访问或者远程桌面而不需要虚拟机本身的图形显示时很有用</span><br><span class="line"> -vga vmware						# 可选，指定虚拟机内使用的虚拟显卡型号，选择 vmware 模式可以解决某些情况下虚拟机内系统无法调整分辨率的问题</span><br></pre></td></tr></tbody></table></figure>
<p>可以看到，实际使用 kvm 时需要关系的命令参数并不多，下面通过几个例子做详细说明</p>
</li>
</ol>
<h1 id="最简单的使用场景——试用-Linux-LiveCD"><a href="#最简单的使用场景——试用-Linux-LiveCD" class="headerlink" title="最简单的使用场景——试用 Linux LiveCD"></a>最简单的使用场景——试用 Linux LiveCD</h1><blockquote>
<p>作为 Linux 系统爱好者，经常会下载一些有趣的 Linux 发行版来体验，多数情况下都不会直接物理安装到机器上，而是通过虚拟机进行体验。多数 Linux 发行版的安装镜像都包含了 <a target="_blank" rel="noopener" href="https://wiki.ubuntu.org.cn/LiveCD">LiveCD</a> 模式，如果是使用 kvm 进行体验，命令则非常简单：</p>
</blockquote>
<figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kvm -m 2G -cdrom ~/Downloads/MX-19.3_x64.iso</span><br></pre></td></tr></tbody></table></figure>
<p>因为试用 LiveCD 并不需要硬盘，所以只要指定虚拟机使用的内存大小和系统镜像 iso 文件即可，效果如下：<br><img src="/2020/11/29/suggest-Linux-users-to-try-kvm-virtual-machine/live_cd.webp" alt="live_cd"></p>
<h1 id="创建一个可以方便进行网络通讯的-Linux-虚拟机"><a href="#创建一个可以方便进行网络通讯的-Linux-虚拟机" class="headerlink" title="创建一个可以方便进行网络通讯的 Linux 虚拟机"></a>创建一个可以方便进行网络通讯的 Linux 虚拟机</h1><blockquote>
<p>有时候我们需要创建 Linux 虚拟机，默认情况下虚拟机软件一般都是使用 <a target="_blank" rel="noopener" href="https://baike.baidu.com/item/nat/320024?fr=aladdin">NAT</a> 模式，这样一来虚拟机和宿主机实际上并不属于同一个局域网下，所以并不能简单地通过 ip 进行访问。解决方案一般有两种，一种是将网络模式从 NAT 改为 Bridge(桥接)，另一种则是通过端口映射将虚拟机的某些端口直接映射到宿主机上。如果是使用 VMWare 或者 VBox，不管是哪种方法相对来说都还是比较麻烦的，而使用 qemu-kvm 命令的参数，则可以很方便地完成端口映射。下面以 debian10 虚拟机为例：</p>
</blockquote>
<ol>
<li><p>首先创建虚拟机磁盘</p>
<figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">qemu-img create -f raw disk 8G		# 因为不准备安装图形桌面，所以8G的磁盘空间就够用了</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>指定磁盘镜像和安装镜像，启动虚拟机并安装系统</p>
<figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kvm -m 2G -hda disk -cdrom ~/Downloads/debian-10.6.0-amd64-netinst.iso</span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p>debian 的网络安装镜像在安装过程中会提示选择安装组件，可以勾选 ssh 组建；或者可以安装好系统后通过包管理安装 <code>openssh-server</code>，这样 Linux 就可以通过 ssh 进行远程登陆了</p>
</blockquote>
<p>安装好系统后，确认 ssh 服务打开，即可关闭虚拟机</p>
</li>
<li><p>设置端口映射参数启动虚拟机</p>
<figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kvm -m 2G -hda disk -nic user,hostfwd=tcp::8022-:22</span><br></pre></td></tr></tbody></table></figure>
<p>通过 <code>hostfwd</code> 设置端口映射规则，注意前面一个是宿主机的端口，后一个是虚拟机内的端口；<br>现在在宿主机的终端内输入命令：</p>
<figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh [user]@127.0.0.1 -p 8022</span><br></pre></td></tr></tbody></table></figure>
<p>即可通过访问本机内部的 8022 端口，实现对虚拟机 22 端口的 ssh 登陆：<br><img src="/2020/11/29/suggest-Linux-users-to-try-kvm-virtual-machine/debian.webp" alt="debian"></p>
</li>
<li><p>根据需要可以继续追加端口映射规则<br>继续上面的例子，我在 debian 虚拟机中安装了 docker，并部署了 <a target="_blank" rel="noopener" href="https://www.portainer.io/">portainer.io</a> 这个基于 web 的 docker 图形化管理工具，运行在虚拟机的 9000 端口上。现在我想将其映射到宿主机的 8088 端口上：</p>
<figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kvm -m 2G -hda disk -nic user,hostfwd=tcp::8022-:22,hostfwd=tcp::8088-:9000</span><br></pre></td></tr></tbody></table></figure>
<p>这样，只需要通过在本机的浏览器中访问 <code>http://127.0.0.1:8088</code> 即可方便地对虚拟机内的 docker 进行图形化管理：<br><img src="/2020/11/29/suggest-Linux-users-to-try-kvm-virtual-machine/docker.webp" alt="docker"></p>
</li>
</ol>
<h1 id="配合-Windows-远程桌面使用-Linux-缺乏的软件"><a href="#配合-Windows-远程桌面使用-Linux-缺乏的软件" class="headerlink" title="配合 Windows 远程桌面使用 Linux 缺乏的软件"></a>配合 Windows 远程桌面使用 Linux 缺乏的软件</h1><blockquote>
<p>桌面软件生态匮乏，尤其是很多国产必备软件的缺失，是 Linux 用户永远的痛，这可能也是绝大多数 Linux 用户离不开 Windows 和不得不使用虚拟机的最大原因。虽然现在我们有 deepin\UOS 团队在为国产软件的适配不断努力着，但是毕竟其精力有限，目前还是有很多平时工作学习必须的软件无法良好地在 Linux 环境下运行。下面这个例子就是我长期以来解决 Windows 软件在 Linux 桌面下运行使用的方案</p>
</blockquote>
<ol>
<li><p>安装 Windows 系统<br>创建磁盘镜像和安装过程不再赘述，和上面的命令无甚区别，无非是 Windows 虚拟机所使用的磁盘镜像需要创建地大一些。</p>
<blockquote>
<p>推荐尝试 <a target="_blank" rel="noopener" href="https://baike.baidu.com/item/WES7/1217006">WES7</a>，可以理解为 WIN7 的裁剪版，下载地址可以在<a target="_blank" rel="noopener" href="https://www.xgboke.com/1317.html">这里</a>找到</p>
</blockquote>
</li>
<li><p>Windows系统的开启远程桌面访问<br><img src="/2020/11/29/suggest-Linux-users-to-try-kvm-virtual-machine/win7.webp" alt="win7"></p>
<p>如上图所示，进入 <code>控制面板 &gt; 系统和安全 &gt; 系统</code> 点击 <code>远程设置</code>，在弹出的对话框中切换到 <code>远程</code> 标签，将远程桌面的选项切换为 <code>允许运行任意版本远程桌面的计算机连接</code>，应用设置，然后关闭虚拟机。</p>
</li>
<li><p>配置虚拟机远程桌面的端口映射</p>
<blockquote>
<p>Windows 的远程桌面默认运行于 3389 端口，于是可以把 kvm 的启动命令改为：</p>
</blockquote>
<figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kvm -m 2G -hda disk -nic user,hostfwd=tcp::3389-:3389 -nographic</span><br></pre></td></tr></tbody></table></figure>
<p>由于设置了 <code>-nographic</code> 参数，所以命令执行后不会再出现虚拟机界面。</p>
</li>
<li><p>使用 rdesktop 进行远程桌面连接</p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://www.oschina.net/p/rdesktop">rdesktop</a> 是一个在 Unix/Linux 下访问 Windows 远程桌面的客户端程序。之所以推荐使用远程桌面的方式使用 windows 虚拟机，是因为可以利用远程桌面协议方便地实现诸如远程目录挂载、剪切板共享、打印机共享等功能，这些在 VMWare 和 VBox 上要么需要安装额外组件，要么需要进行复杂配置，都不是很方便；而且 rdesktop 默认不会捕捉鼠标键盘，在需要频繁在 Linux 和 Windows 虚拟机间来回操作的时候，鼠标捕捉与释放操作还是很影响效率的</p>
</blockquote>
<p>先通过包管理安装 rdesktop:</p>
<figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install rdesktop</span><br></pre></td></tr></tbody></table></figure>
<p>然后用如下的命令启动远程桌面连接：</p>
<figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rdesktop 127.0.0.1 -u [windows 的用户名] -p [密码] -a 32 -x l -r clipboard:PRIMARYCLIPBOARD -r disk:UOS=/home/debuggerx -g 2560x1380</span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p>在上面的命令中，先是指定了远程桌面的桌面色彩度为最高的32位(因为端口映射带宽很高，最高色彩可以提高显示效果)；后面的 <code>-x l</code> 是告诉 rdesktop 远程机器的连接速度是 lan(局域网) 级别，这样可以提高流畅度和显示效果；<code>-r clipboard:PRIMARYCLIPBOARD</code> 的目的是开启双向剪切板共享；<code>-r disk:UOS=/home/debuggerx</code> 的效果是将 Linux 本机的 <code>/home/debuggerx</code> 目录作为网络驱动器挂载到 Windows 虚拟机，并在 Windows 中以 <code>UOS</code> 的盘符显示；最后的 <code>-g 2560x1380</code> 指定了远程桌面的显示大小，由于我的显示器分辨率为 2560x1440，底部 dock 栏高度大约为 60，所以这样设置后远程桌面的窗口正好能够填满屏幕且露出dock 栏<br>效果如下：<br><img src="/2020/11/29/suggest-Linux-users-to-try-kvm-virtual-machine/rdesktop.webp" alt="rdesktop"></p>
</blockquote>
</li>
</ol>
<h2 id="进阶玩法"><a href="#进阶玩法" class="headerlink" title="进阶玩法"></a>进阶玩法</h2><h3 id="关机脚本"><a href="#关机脚本" class="headerlink" title="关机脚本"></a>关机脚本</h3><p>远程桌面登录 Windows 以后，原本的关机按钮会变成<code>注销</code>，这是一种保护机制。为了可以方便地进行关机，可以在桌面上创建一个 <code>关机.bat</code> 的批处理，内容为：</p>
<figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">shutdown -s -t 1</span><br></pre></td></tr></tbody></table></figure>
<p>这样想要关闭虚拟机时只要双击这个脚本即可</p>
<h3 id="脚本自动打开虚拟机并远程连接"><a href="#脚本自动打开虚拟机并远程连接" class="headerlink" title="脚本自动打开虚拟机并远程连接"></a>脚本自动打开虚拟机并远程连接</h3><p>前面说到，因为 qemu-kvm 的命令行非常强大且简单，所以很适合写成自动化脚本简化操作，比如我日常使用的脚本 (run.sh) 如下：</p>
<figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">kvm -cpu host -smp 1 -m 3G -hda [bath_to_disk_file]/disk -nographic -nic user,hostfwd=tcp::3389-:3389 &amp;</span><br><span class="line">sleep 5 &amp;&amp; rdesktop -T win 127.0.0.1:3389 -u [username] -p [password] -a 32 -x l -r clipboard:PRIMARYCLIPBOARD -r disk:UOS=/home/debuggerx -D -g 2560x1380</span><br></pre></td></tr></tbody></table></figure>
<p>之后只要在终端执行 <code>bash run.sh</code>，就可以自动完成后台执行 KVM 打开 Windows 虚拟机，并自动登录远程桌面的操作了。</p>
<h3 id="remoteapp"><a href="#remoteapp" class="headerlink" title="remoteapp"></a>remoteapp</h3><blockquote>
<p>windows 的远程桌面有一个 <a target="_blank" rel="noopener" href="https://baike.baidu.com/item/remoteapp/558443">remoteapp</a> 功能，可以只远程启动一个软件而不是将整个桌面投射，最终可以实现如下<a target="_blank" rel="noopener" href="https://bbs.deepin.org/post/149128?id=149128&amp;limit=20&amp;offset=0&amp;post_user_id=16934">效果</a>：<br>1.打开虚拟机，调用打开记事本，输入正常，记事本用的是win版搜狗，linux的gedit用的linux版搜狗：<br><img src="https://storage.deepin.org/forum/201711/29/130412t7j7kfd5zcfddeyz.gif" alt="remoteapp1"><br>2.同时打开记事本和文件管理器，deepin的dock栏可以正常切换窗口：<br><img src="https://storage.deepin.org/forum/201711/29/130413tiydg0uzzaid6izi.gif" alt="remoteapp2"><br>3.正常打开ps，直接打开修改home里的图片并保存：<br><img src="https://storage.deepin.org/forum/201711/29/130413ewykwccrtarbs9ka.gif" alt="remoteapp3"></p>
</blockquote>
</article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/kvm/">kvm</a><a class="post-meta__tags" href="/tags/linux/">linux</a></div><div class="post_share"><div class="social-share" data-image="/2020/11/29/suggest-Linux-users-to-try-kvm-virtual-machine/cover.webp" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2020/11/30/ko-no-light-novel-ga-su-goi-suzumiya-series/" title="这本轻小说真厉害！——『凉宫春日系列』"><img class="cover" src="/2020/11/30/ko-no-light-novel-ga-su-goi-suzumiya-series/sos.webp" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">这本轻小说真厉害！——『凉宫春日系列』</div></div></a></div><div class="next-post pull-right"><a href="/2020/11/16/enhanced-script-of-http-server-by-python/" title="利用Python实现的局域网内跨设备文件上传下载及双向剪切板操作"><img class="cover" src="/2020/11/16/enhanced-script-of-http-server-by-python/cover.webp" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">利用Python实现的局域网内跨设备文件上传下载及双向剪切板操作</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2021/01/13/batch-convert-pictures-to-webp-format/" title="批量转换图片为webp格式"><img class="cover" src="/2021/01/13/batch-convert-pictures-to-webp-format/cover.webp" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-01-13</div><div class="title">批量转换图片为webp格式</div></div></a></div><div><a href="/2021/01/10/make-deepin-terminal-quake-mode-faster/" title="不满新版深度终端的动画速度，动手修改编译一个版本"><img class="cover" src="/2021/01/10/make-deepin-terminal-quake-mode-faster/cover.webp" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-01-10</div><div class="title">不满新版深度终端的动画速度，动手修改编译一个版本</div></div></a></div><div><a href="/2021/07/07/Modify-the-linux-kernel-to-reduce-the-boot-speed-by-about-30-seconds/" title="修改 Linux 内核使系统启动时间缩短约 30 秒"><img class="cover" src="/2021/07/07/Modify-the-linux-kernel-to-reduce-the-boot-speed-by-about-30-seconds/cover.webp" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-07-07</div><div class="title">修改 Linux 内核使系统启动时间缩短约 30 秒</div></div></a></div><div><a href="/2021/08/17/Using-github-actions-to-build-kernel-deb-packages/" title="利用 GitHub Actions 自动构建 Linux 内核为 deb 包"><img class="cover" src="/2021/08/17/Using-github-actions-to-build-kernel-deb-packages/cover.webp" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-08-17</div><div class="title">利用 GitHub Actions 自动构建 Linux 内核为 deb 包</div></div></a></div><div><a href="/2022/03/27/set-global-keybindings-via-xbindkeys/" title="利用 Xbindkeys 设置全局快捷键&#x2F;一键切换输入法"><img class="cover" src="/2022/03/27/set-global-keybindings-via-xbindkeys/cover.webp" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-03-27</div><div class="title">利用 Xbindkeys 设置全局快捷键&#x2F;一键切换输入法</div></div></a></div><div><a href="/2022/03/30/some-personal-preferences-for-linux/" title="个人对 Linux 的一些偏好设置"><img class="cover" src="/2022/03/30/some-personal-preferences-for-linux/cover.webp" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-03-30</div><div class="title">个人对 Linux 的一些偏好设置</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/images/avatar.webp" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">DebuggerX</div><div class="author-info__description"></div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">38</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">31</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">4</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/debuggerx01"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#KVM%E7%9A%84%E4%BC%98%E7%82%B9"><span class="toc-number">1.</span> <span class="toc-text">KVM的优点</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="toc-number">2.</span> <span class="toc-text">常用命令</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%9C%80%E7%AE%80%E5%8D%95%E7%9A%84%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF%E2%80%94%E2%80%94%E8%AF%95%E7%94%A8-Linux-LiveCD"><span class="toc-number">3.</span> <span class="toc-text">最简单的使用场景——试用 Linux LiveCD</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E5%8F%AF%E4%BB%A5%E6%96%B9%E4%BE%BF%E8%BF%9B%E8%A1%8C%E7%BD%91%E7%BB%9C%E9%80%9A%E8%AE%AF%E7%9A%84-Linux-%E8%99%9A%E6%8B%9F%E6%9C%BA"><span class="toc-number">4.</span> <span class="toc-text">创建一个可以方便进行网络通讯的 Linux 虚拟机</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%85%8D%E5%90%88-Windows-%E8%BF%9C%E7%A8%8B%E6%A1%8C%E9%9D%A2%E4%BD%BF%E7%94%A8-Linux-%E7%BC%BA%E4%B9%8F%E7%9A%84%E8%BD%AF%E4%BB%B6"><span class="toc-number">5.</span> <span class="toc-text">配合 Windows 远程桌面使用 Linux 缺乏的软件</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%9B%E9%98%B6%E7%8E%A9%E6%B3%95"><span class="toc-number">5.1.</span> <span class="toc-text">进阶玩法</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E6%9C%BA%E8%84%9A%E6%9C%AC"><span class="toc-number">5.1.1.</span> <span class="toc-text">关机脚本</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%84%9A%E6%9C%AC%E8%87%AA%E5%8A%A8%E6%89%93%E5%BC%80%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%B9%B6%E8%BF%9C%E7%A8%8B%E8%BF%9E%E6%8E%A5"><span class="toc-number">5.1.2.</span> <span class="toc-text">脚本自动打开虚拟机并远程连接</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#remoteapp"><span class="toc-number">5.1.3.</span> <span class="toc-text">remoteapp</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2024/12/08/weekly-todo-app/" title="每周TODO——个人向待办管理工具"><img src="/2024/12/08/weekly-todo-app/cover.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="每周TODO——个人向待办管理工具"/></a><div class="content"><a class="title" href="/2024/12/08/weekly-todo-app/" title="每周TODO——个人向待办管理工具">每周TODO——个人向待办管理工具</a><time datetime="2024-12-08T06:43:10.000Z" title="发表于 2024-12-08 14:43:10">2024-12-08</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/10/07/map-scancodes-to-keycodes/" title="Linux通用键位修改"><img src="/2022/03/27/set-global-keybindings-via-xbindkeys/cover.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Linux通用键位修改"/></a><div class="content"><a class="title" href="/2023/10/07/map-scancodes-to-keycodes/" title="Linux通用键位修改">Linux通用键位修改</a><time datetime="2023-10-07T09:18:05.000Z" title="发表于 2023-10-07 17:18:05">2023-10-07</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/09/20/fcitx5-customizer/" title="fcitx5_customizer —— 一个让 Fcitx5 更符合简中用户使用习惯的优化脚本"><img src="/2023/09/20/fcitx5-customizer/cover.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="fcitx5_customizer —— 一个让 Fcitx5 更符合简中用户使用习惯的优化脚本"/></a><div class="content"><a class="title" href="/2023/09/20/fcitx5-customizer/" title="fcitx5_customizer —— 一个让 Fcitx5 更符合简中用户使用习惯的优化脚本">fcitx5_customizer —— 一个让 Fcitx5 更符合简中用户使用习惯的优化脚本</a><time datetime="2023-09-20T04:24:21.000Z" title="发表于 2023-09-20 12:24:21">2023-09-20</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/07/18/remote-system-monitor/" title="远程监视器——使用Flutter/Dart开发的Linux系统状态监视APP"><img src="/2023/07/18/remote-system-monitor/cover.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="远程监视器——使用Flutter/Dart开发的Linux系统状态监视APP"/></a><div class="content"><a class="title" href="/2023/07/18/remote-system-monitor/" title="远程监视器——使用Flutter/Dart开发的Linux系统状态监视APP">远程监视器——使用Flutter/Dart开发的Linux系统状态监视APP</a><time datetime="2023-07-18T01:36:03.000Z" title="发表于 2023-07-18 09:36:03">2023-07-18</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2023/06/20/conditional-compilation-using-source-gen-in-flutter-3/" title="在 flutter 中利用 source_gen 实现条件编译（下）"><img src="/2022/04/17/conditional-compilation-using-source-gen-in-flutter-1/cover.webp" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="在 flutter 中利用 source_gen 实现条件编译（下）"/></a><div class="content"><a class="title" href="/2023/06/20/conditional-compilation-using-source-gen-in-flutter-3/" title="在 flutter 中利用 source_gen 实现条件编译（下）">在 flutter 中利用 source_gen 实现条件编译（下）</a><time datetime="2023-06-20T14:36:52.000Z" title="发表于 2023-06-20 22:36:52">2023-06-20</time></div></div></div></div></div></div></main><footer id="footer" style="background: linear-gradient(20deg, #0062be, #9855e1, #6f42c1, #541bba)"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2025 By DebuggerX</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.33/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"></div><script src="/custom/custom.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>